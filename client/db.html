<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Aprendendo IndexedDB</title>
</head>

<body>
    <script>
        let connection = null;
        const openRequest = indexedDB.open('jscangaceiro', 2);

        openRequest.onupgradeneeded = e => {
            console.log('Cria ou altera um banco já existente');
            connection = e.target.result;

            if (connection.objectStoreNames.contains('negociacoes')) {
                connection.deleteObjectStore('negociacoes');
            }
            connection.createObjectStore('negociacoes', {
                autoIncrement: true
            });
        };
        openRequest.onsuccess = e => {
            console.log('Conexão obtida com sucesso!');
            e.target.result;
        };
        openRequest.onerror = e => {
            console.log(e.target.error);
        };
        // nova função para adicionar negociações
        function adiciona() {

        }
    </script>
    <script src="app/domain/negociacao/Negociacao.js"></script>
</body>

</html>